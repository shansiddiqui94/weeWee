{"ast":null,"code":"// import { useState, useEffect } from \"react\";\n// import ReactMapGl, { Marker, Popup } from \"react-map-gl\";\n// import { Room, Star } from \"@material-ui/icons\";\n// import axios from \"axios\";\n// import { format } from \"timeago.js\";\n// import \"./app.css\";\n// function App() {\n//   const currentUser = \"joe\";\n//   const [pins, setPins] = useState([]);\n//   const [currentPlaceId, setCurrentPlaceId] = useState(null);\n//   const [title, setTitle] = useState(null)\n//   const [desc, setDesc] = useState(null)\n//   const [rating, setRating] = useState(0)\n//   const [newPlace, setNewPlace] = useState(null);\n//   const [viewport, setViewport] = useState({\n//     width: \"100vw\",\n//     height: \"100vh\",\n//     latitude: 40.71506434201678,\n//     longitude: -73.99684811789366,\n//     zoom: 10,\n//   });\n//   useEffect(() => {\n//     const getPins = async () => {\n//       try {\n//         const response = await axios.get(\"/pins\");\n//         setPins(response.data);\n//       } catch (err) {\n//         console.log(err);\n//       }\n//     };\n//     getPins();\n//   }, []);\n//   const handleMarkerClick = (id, lat, long) => {\n//     setCurrentPlaceId(id);\n//     setViewport({ ...viewport, lattitude: lat, longitude: long });\n//   };\n//   //double Click to add new place\n//   const handleAddClick = (e) => {\n//     const [long, lat] = e.lnglat;\n//     setNewPlace({\n//       lat,\n//       long,\n//     });\n//   };\n// const handleSubmit = (e) =>{\n//   e.preventDefault()\n//   const newPin = {\n//     username: currentUser,\n//     title,\n//     desc,\n//     rating,\n//     lat:newPlace.lat,\n//     long:newPlace.long\n//   }\n//   try{\n//     const response = await axios.post(\"/pins\", newPin)\n//     setPins([...pins, response.data])\n//     setNewPlace(null)\n//   }catch(err){\n//     console.log(err)\n//   }\n// }\n//   return (\n//     <div className=\"App\">\n//       <ReactMapGl\n//         {...viewport}\n//         mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n//         onViewportChange={(nextViewport) => setViewport(nextViewport)}\n//         mapStyle=\"mapbox://styles/shansiddiqui94/ckymlk1in22xu14pewxn6niqm\"\n//         onDoubleClick={handleAddClick}\n//         transitionDuration=\"200\"\n//       >\n//         {pins.map((p) => (\n//           <>\n//             <Marker\n//               latitude={40.7607183218919}\n//               longitude={-73.8311948975521}\n//               offsetLeft={-20}\n//               offsetTop={-10}\n//             >\n//               <Room\n//                 style={{\n//                   fontSize: viewport.zoom * 7,\n//                   color: p.username === currentUser ? \"tomato\" : \"slateblue\",\n//                   cursor: \"pointer\",\n//                 }}\n//                 onClick={() => handleMarkerClick(p._id, p.lat, p.long)}\n//               ></Room>\n//             </Marker>\n//             {p._id === currentPlaceId && ( // if pin id = current id open popup\n//               <Popup\n//                 latitude={p.lat}\n//                 longitude={p.long}\n//                 closeButton={true}\n//                 closeOnClick={false}\n//                 anchor=\"left\"\n//                 onClose={() => setCurrentPlaceId(null)}\n//               >\n//                 <div className=\"card\">\n//                   <label>Place</label>\n//                   <h4 className=\"place\">{p.title}</h4>\n//                   <label>Review</label>\n//                   <p className=\"desc\">{p.desc}</p>\n//                   <label>Rating</label>\n//                   <div className=\"stars\">\n//                   {Array(p.rating).fill(<Star className=\"star\"/>)}\n//                   </div>\n//                   <label>Info </label>\n//                   <span className=\"username\">\n//                     Created by <b>{p.username}</b>\n//                   </span>\n//                   <span className=\"date\">{format(p.createdAt)}</span>\n//                 </div>\n//               </Popup>\n//             )}\n//         ))}\n//         </>,\n//         {newPlace && (\n//           <Popup\n//             latitude={newPlace.lat}\n//             longitude={newPlace.long}\n//             closeButton={true}\n//             closeOnClick={false}\n//             anchor=\"left\"\n//             onClose={() => setCurrentPlaceId(null)}\n//           >\n//             <div>\n//               <form onSubmit={handleSubmit}>\n//                 <label>Title</label>\n//                 <input placeholder=\"enter title\" onChange={(e)=> setTitle(e.target.value)} />\n//                 <label>Review</label>\n//                 <textarea placeholder=\"Write a review\" onChange={(e)=> setDesc(e.target.value)}/>\n//                 <label>Rating</label>\n//                 <select onChange={(e)=> setRating(e.target.value)}>\n//                   <option value=\"1\">1</option>\n//                   <option value=\"2\">2</option>\n//                   <option value=\"3\">3</option>\n//                   <option value=\"4\">4</option>\n//                   <option value=\"5\">5</option>\n//                 </select>\n//                 <button className=\"submitBtn\" type=\"submit\">\n//                   Add Pin\n//                 </button>\n//               </form>\n//             </div>\n//           </Popup>\n//         )}\n//       </ReactMapGl>\n//     </div>\n//   );\n// }\n// export default App;","map":{"version":3,"sources":["/Users/shansiddiqui/Desktop/weeWee/client/src/App.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import { useState, useEffect } from \"react\";\n// import ReactMapGl, { Marker, Popup } from \"react-map-gl\";\n// import { Room, Star } from \"@material-ui/icons\";\n// import axios from \"axios\";\n// import { format } from \"timeago.js\";\n// import \"./app.css\";\n// function App() {\n//   const currentUser = \"joe\";\n//   const [pins, setPins] = useState([]);\n//   const [currentPlaceId, setCurrentPlaceId] = useState(null);\n//   const [title, setTitle] = useState(null)\n//   const [desc, setDesc] = useState(null)\n//   const [rating, setRating] = useState(0)\n//   const [newPlace, setNewPlace] = useState(null);\n//   const [viewport, setViewport] = useState({\n//     width: \"100vw\",\n//     height: \"100vh\",\n//     latitude: 40.71506434201678,\n//     longitude: -73.99684811789366,\n//     zoom: 10,\n//   });\n\n//   useEffect(() => {\n//     const getPins = async () => {\n//       try {\n//         const response = await axios.get(\"/pins\");\n//         setPins(response.data);\n//       } catch (err) {\n//         console.log(err);\n//       }\n//     };\n//     getPins();\n//   }, []);\n\n//   const handleMarkerClick = (id, lat, long) => {\n//     setCurrentPlaceId(id);\n//     setViewport({ ...viewport, lattitude: lat, longitude: long });\n//   };\n\n//   //double Click to add new place\n//   const handleAddClick = (e) => {\n//     const [long, lat] = e.lnglat;\n//     setNewPlace({\n//       lat,\n//       long,\n//     });\n//   };\n\n// const handleSubmit = (e) =>{\n//   e.preventDefault()\n//   const newPin = {\n//     username: currentUser,\n//     title,\n//     desc,\n//     rating,\n//     lat:newPlace.lat,\n//     long:newPlace.long\n//   }\n//   try{\n//     const response = await axios.post(\"/pins\", newPin)\n//     setPins([...pins, response.data])\n//     setNewPlace(null)\n//   }catch(err){\n//     console.log(err)\n//   }\n// }\n\n//   return (\n//     <div className=\"App\">\n//       <ReactMapGl\n//         {...viewport}\n//         mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n//         onViewportChange={(nextViewport) => setViewport(nextViewport)}\n//         mapStyle=\"mapbox://styles/shansiddiqui94/ckymlk1in22xu14pewxn6niqm\"\n//         onDoubleClick={handleAddClick}\n//         transitionDuration=\"200\"\n//       >\n//         {pins.map((p) => (\n//           <>\n//             <Marker\n//               latitude={40.7607183218919}\n//               longitude={-73.8311948975521}\n//               offsetLeft={-20}\n//               offsetTop={-10}\n//             >\n//               <Room\n//                 style={{\n//                   fontSize: viewport.zoom * 7,\n//                   color: p.username === currentUser ? \"tomato\" : \"slateblue\",\n//                   cursor: \"pointer\",\n//                 }}\n//                 onClick={() => handleMarkerClick(p._id, p.lat, p.long)}\n//               ></Room>\n\n//             </Marker>\n//             {p._id === currentPlaceId && ( // if pin id = current id open popup\n//               <Popup\n//                 latitude={p.lat}\n//                 longitude={p.long}\n//                 closeButton={true}\n//                 closeOnClick={false}\n//                 anchor=\"left\"\n//                 onClose={() => setCurrentPlaceId(null)}\n//               >\n//                 <div className=\"card\">\n//                   <label>Place</label>\n//                   <h4 className=\"place\">{p.title}</h4>\n//                   <label>Review</label>\n//                   <p className=\"desc\">{p.desc}</p>\n//                   <label>Rating</label>\n//                   <div className=\"stars\">\n//                   {Array(p.rating).fill(<Star className=\"star\"/>)}\n//                   </div>\n//                   <label>Info </label>\n//                   <span className=\"username\">\n//                     Created by <b>{p.username}</b>\n//                   </span>\n//                   <span className=\"date\">{format(p.createdAt)}</span>\n//                 </div>\n//               </Popup>\n//             )}\n\n//         ))}\n//         </>,\n//         {newPlace && (\n//           <Popup\n//             latitude={newPlace.lat}\n//             longitude={newPlace.long}\n//             closeButton={true}\n//             closeOnClick={false}\n//             anchor=\"left\"\n//             onClose={() => setCurrentPlaceId(null)}\n//           >\n//             <div>\n//               <form onSubmit={handleSubmit}>\n//                 <label>Title</label>\n//                 <input placeholder=\"enter title\" onChange={(e)=> setTitle(e.target.value)} />\n//                 <label>Review</label>\n//                 <textarea placeholder=\"Write a review\" onChange={(e)=> setDesc(e.target.value)}/>\n//                 <label>Rating</label>\n//                 <select onChange={(e)=> setRating(e.target.value)}>\n//                   <option value=\"1\">1</option>\n//                   <option value=\"2\">2</option>\n//                   <option value=\"3\">3</option>\n//                   <option value=\"4\">4</option>\n//                   <option value=\"5\">5</option>\n//                 </select>\n//                 <button className=\"submitBtn\" type=\"submit\">\n//                   Add Pin\n//                 </button>\n//               </form>\n//             </div>\n//           </Popup>\n//         )}\n//       </ReactMapGl>\n//     </div>\n//   );\n// }\n\n// export default App;\n"]},"metadata":{},"sourceType":"module"}